!function(){"use strict";function e(e,t,r,a){return new(r||(r=Promise))(function(o,i){function s(e){try{n(a.next(e))}catch(e){i(e)}}function d(e){try{n(a.throw(e))}catch(e){i(e)}}function n(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,d)}n((a=a.apply(e,t)).next())})}var t,r,a,o,i,s;!function(e){e.nothing=""}(t||(t={})),function(e){e.shadowUi="[data-vamtiger-user-listing]",e.style="style",e.user="[data-user]",e.footer="[data-footer]",e.overlay="[data-overlay]",e.confirmDialog="[data-confirm-dialog]",e.confirmDeleteDialog="[data-confirm-delete-user]",e.confirmAddNewUserDialog="[data-confirm-add-new-user]",e.cancelDialog="[data-confirm-button-cancel]",e.confirmButtonOkay="[data-confirm-button-ok]",e.addNewUserButton="[data-action-add-user]",e.addNewUserForm="[data-add-new-user-form]",e.addNewUserFormError="[data-error]",e.addNewUserFormInputError="input[data-error]",e.layoutMarkersToggle="[data-layout-markers-toggle]"}(r||(r={})),function(e){e.connected="vamtiger-user-registry-connected",e.addUser="vamtiger-user-registry-add-user",e.userAdded="vamtiger-user-registry-user-added"}(a||(a={})),function(e){e.DELETE="DELETE",e.GET="GET",e.POST="POST",e.PUT="PUT"}(o||(o={})),i||(i={}),function(e){e.headerImage="header-image",e.headerCapation="header-caption",e.action="action",e.user="user",e.overlay="overlay",e.footer="footer"}(s||(s={}));var d='vamtiger-user-registry button,vamtiger-user-registry fieldset,vamtiger-user-registry form,vamtiger-user-registry input,vamtiger-user-registry label{margin:nonne;padding:none;border:none;outline:none;-webkit-appearance:none}vamtiger-user-registry button{cursor:pointer}@-webkit-keyframes a{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:visible}}@keyframes a{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:visible}}@-webkit-keyframes b{0%{top:2em;opacity:0}to{top:0;opacity:1}}@keyframes b{0%{top:2em;opacity:0}to{top:0;opacity:1}}vamtiger-user-registry{opacity:0}vamtiger-user-registry [data-button],vamtiger-user-registry form input,vamtiger-user-registry form label{cursor:pointer}vamtiger-user-registry [data-display-grid]{display:grid}vamtiger-user-registry [data-position-relative]{position:relative}vamtiger-user-registry [slot=user]{position:relative;overflow:hidden}vamtiger-user-registry [slot=user] *{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}vamtiger-user-registry [slot=user]:nth-child(odd){background-color:#d3d3d3}vamtiger-user-registry [slot=user]:nth-child(2n),vamtiger-user-registry [slot=user] [data-delete]{background-color:#fff}vamtiger-user-registry [slot=user] [data-delete]{display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;height:100%;width:2em;top:0;right:-2em;-webkit-transition:right 235ms;transition:right 235ms;color:red;font-size:1.5em;pointer-events:none}vamtiger-user-registry [slot=user][data-hover] [data-delete]{right:0}vamtiger-user-registry [slot=overlay]{visibility:hidden;position:relative;grid-row:1;grid-column:1}vamtiger-user-registry [slot=overlay] [data-confirm-header]{font-size:1.5em}vamtiger-user-registry [slot=overlay] [data-confirm-body]{font-size:1.1em;margin-bottom:1em}vamtiger-user-registry [slot=overlay] [data-header-underline]{height:1px;background-color:#d3d3d3}vamtiger-user-registry [slot=overlay] [data-confirm-footer]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}vamtiger-user-registry [slot=overlay] [data-confirm-footer] [data-confirm-button]{display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:8em;height:3.4em}vamtiger-user-registry [slot=overlay] [data-confirm-footer] [data-confirm-button][data-confirm-button-ok]{color:#fff;background-color:#000}vamtiger-user-registry [slot=overlay] [data-confirm-footer] [data-confirm-button][data-confirm-button-cancel]{color:gray;background-color:#fff}vamtiger-user-registry [slot=overlay] [data-confirm-footer] [data-confirm-button]:hover{-webkit-filter:inver(1);filter:inver(1)}vamtiger-user-registry [slot=overlay] [data-confirm-footer] [data-confirm-button]:nth-child(n+2){margin-right:1em}vamtiger-user-registry input{border:1px solid #000}vamtiger-user-registry [data-confirm-body] [data-confirm-input-form]{grid-row-gap:1em}vamtiger-user-registry [data-confirm-body] [data-confirm-input-form] [form-group]{display:grid;grid-row-gap:.5em;position:relative;grid-auto-rows:minmax(1.2em,auto)}vamtiger-user-registry [data-confirm-body] [data-confirm-input-form] [form-group] input{padding:.4em;font-size:1em}vamtiger-user-registry [data-confirm-body] [data-confirm-input-form] [form-group] input[data-error]~[data-error]:after{display:inline-block;content:attr(data-error);font-size:.8em;color:red}vamtiger-user-registry[data-connected]{-webkit-animation:a 387ms linear forwards;animation:a 387ms linear forwards\n\n    /* & [slot="user"]\n    {\n        animation: var(--vamtiger-user-listing-fade-in-animation);\n    } */}vamtiger-user-registry[data-confirm] [slot=overlay]{-webkit-animation:b 135ms;animation:b 135ms}vamtiger-user-registry[data-confirm="Add new user"] [data-confirm-add-new-user],vamtiger-user-registry[data-confirm="Delete user"] [data-confirm-delete-user]{visibility:visible}vamtiger-user-registry[data-test-mode] [data-confirm-button-ok]{visibility:none;cursor:not-allowed}\n/* layout markers*/vamtiger-user-registry[data-layout-markers] [slot=overlay]>:nth-child(odd){background-color:#b0c4de}vamtiger-user-registry[data-layout-markers] [slot=overlay]>:nth-child(2n){background-color:#d3d3d3}vamtiger-user-registry[data-layout-markers] [slot=overlay] [data-add-new-user-form]>:nth-of-type(odd){background-color:#ffb6c1}vamtiger-user-registry[data-layout-markers] [slot=overlay] [data-add-new-user-form]>:nth-of-type(odd)>:nth-of-type(odd){background-color:#90ee90}vamtiger-user-registry[data-layout-markers] [slot=overlay] [data-add-new-user-form]>:nth-of-type(2n){background-color:#008b8b}vamtiger-user-registry[data-layout-markers] [slot=overlay] [data-add-new-user-form]>:nth-of-type(2n)>:nth-of-type(odd){background-color:#d3d3d3}\n/*# sourceMappingURL=document-index.ts.map */',n='<div slot="overlay" data-confirm-dialog data-confirm-add-new-user> <div data-confirm-header> Add new user </div> <div data-header-underline></div> <div data-confirm-body data-display-grid> <form data-add-new-user-form data-confirm-input-form data-display-grid> <div form-group> <label for="addNewUserNameInput"> Name </label> <input id="addNewUserNameInput" name="name"> <span data-error></span> </div> <div form-group> <label for="addNewUserSurnameInput"> Surname </label> <input id="addNewUserSurnameInput" name="surname"> <span data-error></span> </div> <div form-group> <label for="addNewUserEmailInput"> Email </label> <input type="email" id="addNewUserEmailInput" name="email"> <span data-error></span> </div> <div form-group> <label for="addNewUserPositionInput"> Position </label> <input id="addNewUserPositionInput" name="position"> <span data-error data-default-error-message="Please enter your current position"></span> </div> </form> </div> <div data-confirm-footer> <button data-confirm-button data-confirm-button-ok> <span>Confirm</span> </button> <button data-confirm-button data-confirm-button-cancel> <span>Cancel</span> </button> </div> </div> <div slot="overlay" data-confirm-dialog data-confirm-delete-user> <div data-confirm-header> Confirm delete </div> <div data-header-underline></div> <div data-confirm-body> <span> Please confirm that you would like to delete this user. </span> </div> <div data-confirm-footer> <button data-confirm-button data-confirm-button-ok> <span>Confirm</span> </button> <button data-confirm-button data-confirm-button-cancel> <span>Cancel</span> </button> </div> </div> <button slot="action" data-action-add-user>Add new user</button> <div data-user data-button></div> <div data-vamtiger-user-listing> <div data-test-mode> <span data-title> test mode </span> <div data-separator></div> <div data-layout-markers-controls> <span data-label> layout markers </span> <div data-layout-markers-toggle></div> </div> </div> <div data-header> <div data-header-overlay></div> <figure data-header-image> <slot name="header-image"></slot> </figure> <div data-header-caption> <slot name="header-caption"></slot> </div> </div> <div data-body> <div data-left-side-bar></div> <div data-user-listing> <div data-action> <slot name="action"></slot> </div> <div data-users> <slot name="user"></slot> </div> </div> <div data-right-side-bar></div> </div> <div data-footer> <a data-backend>Laravel</a> <span data-separator></span> <a data-frontend>Web Components</a> </div> <div data-overlay> <slot name="overlay"></slot> </div> </div>';const{nothing:l}=t,u=document.createElement("template"),c=['<style>@-webkit-keyframes a{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:visible}}@keyframes a{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:visible}}:host{display:inline-block;position:relative;-ms-touch-action:manipulation;touch-action:manipulation;-webkit-tap-highlight-color:transparent;opacity:0}:host a,:host button,:host figure,:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{margin:0;padding:0;border:none;outline:none;-webkit-appearance:none;text-decoration:none}:host [data-vamtiger-user-listing]{height:100%;position:relative;display:grid;grid-template-rows:300px 3fr 50px}:host [data-vamtiger-user-listing] [data-test-mode]{position:fixed;top:0;left:0;z-index:4;display:grid;grid-gap:.5em;padding:1em;font-size:1em;text-transform:uppercase;background-color:#fff;visibility:hidden}:host [data-vamtiger-user-listing] [data-test-mode] [data-separator]{height:1px;background-color:#d3d3d3}:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls]{display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;grid-gap:1em}:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls] [data-layout-markers-toggle]{height:1em;display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;position:relative}:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls] [data-layout-markers-toggle]:after,:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls] [data-layout-markers-toggle]:before{display:inline-block;content:"";height:100%;grid-column:1;grid-row:1}:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls] [data-layout-markers-toggle]:before{background-color:#ffa07a;-webkit-transition:background-color 75ms;transition:background-color 75ms;width:2.5em;border-radius:1em}:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls] [data-layout-markers-toggle]:after{background-color:#d3d3d3;width:1em;border-radius:100%;border:1px solid #a9a9a9;-webkit-transform:scale(1.4);transform:scale(1.4);-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;left:0;-webkit-transition:left 75ms;transition:left 75ms}:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls] [data-layout-markers-toggle][data-active]:before{background-color:#87cefa}:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls] [data-layout-markers-toggle][data-active]:after{left:25px}:host [data-vamtiger-user-listing] [data-header]{display:grid;grid-template-rows:1fr;position:relative}:host [data-vamtiger-user-listing] [data-header]>*{grid-column:1;grid-row:1;width:100%;max-height:100%}:host [data-vamtiger-user-listing] [data-header] [data-header-overlay]{background-color:rgba(0,0,0,.3);z-index:2}:host [data-vamtiger-user-listing] [data-header] [data-header-image]{z-index:1;-o-object-fit:cover;object-fit:cover;position:relative}:host [data-vamtiger-user-listing] [data-header] [data-header-caption]{display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:3;color:#fff;font-size:2em}:host [data-vamtiger-user-listing] [data-body]{display:grid;grid-template-columns:1fr 3fr 1fr}:host [data-vamtiger-user-listing] [data-body] [data-user-listing]{display:grid;grid-template-rows:50px auto;grid-gap:1em;position:relative}:host [data-vamtiger-user-listing] [data-body] [data-user-listing] [data-action]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;position:-webkit-sticky;position:sticky;top:0;z-index:2;background-color:#fff}:host [data-vamtiger-user-listing] [data-body] [data-user-listing] [data-users]{display:grid;grid-auto-rows:3em;z-index:1}:host [data-vamtiger-user-listing] [data-overlay]{overflow:auto;position:fixed;height:100vh;width:100vw;display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:3;background:radial-gradient(rgba(0,0,0,.6),#000)}:host [data-vamtiger-user-listing] [data-overlay],:host [data-vamtiger-user-listing] [data-overlay] [data-confirm-delete-user]{visibility:hidden}:host [data-vamtiger-user-listing] [data-overlay][data-confirm]{-webkit-animation:a 135ms linear forwards;animation:a 135ms linear forwards}:host [data-vamtiger-user-listing] [data-footer]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#000;color:#fff;font-weight:1em}:host [data-vamtiger-user-listing] [data-footer] a{color:#fff;cursor:pointer}:host [data-vamtiger-user-listing] [data-footer] [data-separator]{margin:0 .5em;height:50%;width:1px;background-color:#fff}::slotted([slot=action]),[data-action] button{width:8em;display:grid;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;color:#fff;background-color:#000}::slotted([slot=footer]),::slotted([slot=header-image]){width:100%;max-height:100%;position:relative}::slotted([slot=header-image]){-o-object-fit:cover;object-fit:cover}::slotted([slot=user]){display:grid;grid-template-columns:repeat(2,1fr) minmax(auto,4fr);-webkit-box-align:center;-ms-flex-align:center;align-items:center;grid-gap:1em;padding-left:1em}::slotted([slot=overlay]){display:grid;grid-row-gap:1em;padding:2em;background-color:#fff}\n\n/* Layout markers */:host [data-vamtiger-user-listing][data-test-mode] [data-test-mode]{visibility:visible}:host [data-vamtiger-user-listing][data-layout-markers]{background-color:#a9a9a9}:host [data-vamtiger-user-listing][data-layout-markers] [data-test-mode]~:nth-child(odd){background-color:#add8e6}:host [data-vamtiger-user-listing][data-layout-markers] [data-body]>:nth-child(odd){background-color:#ffb6c1}:host [data-vamtiger-user-listing][data-layout-markers] [data-user-listing]>:nth-child(odd){background-color:#90ee90}:host [data-vamtiger-user-listing][data-layout-markers] [data-user-listing]>:nth-child(2n){background-color:#fafad2}:host [data-vamtiger-user-listing][data-layout-markers] [data-action]{background-color:#add8e6}\n/*# sourceMappingURL=index.ts.map */</style>',n].join(l);u.innerHTML=c;var m=e=>{const{selector:t,attributes:r={},properties:a={}}=e,o=Object.keys(r),i=u.content.querySelector(t),s=i&&i.cloneNode(!0);return s&&(Object.assign(s,a),o.forEach(e=>r[e]&&s.setAttribute(e,r[e]||""))),s};const g={mode:"open"},v=Object.keys(i),f={bubbles:!0},y={[a.connected]:new CustomEvent(a.connected,Object.assign({},f))},p=1,b={attributes:!0},h=document.ontouchstart?"touchstart":"click";function k({element:e}){const{shadowRoot:t}=e,a=e.dataset,o=null===t||void 0===t?void 0:t.querySelector(r.overlay),i=null===o||void 0===o?void 0:o.dataset;i&&(delete a.confirm,delete i.confirm)}const{requestIdleCallback:w}=self;function x(e){const{element:t}=e;t.user||(t.user=new Map),w?w(()=>U(e)):setTimeout(()=>U(e),p)}function U({element:e,user:t}){const{name:o,surname:i,email:d}=t,n=!(e.user&&Array.from(e.user.values()).some(({id:e})=>e===t.id))&&[`<span data-name>${o}</span>`,`<span data-surname>${i}</span>`,`<span data-email>${d}</span>`,'<span data-delete class="fa fa-trash" aria-hidden="true"></delete>'].join(""),l=n&&m({selector:r.user,properties:{innerHTML:n},attributes:{slot:s.user}});l&&(e.user.set(l,t),e.appendChild(l),e.dispatchEvent(new CustomEvent(a.userAdded,Object.assign(Object.assign({},f),{detail:{user:t}}))),l.addEventListener("mouseenter",()=>l.dataset.hover=""),l.addEventListener("mouseleave",()=>delete l.dataset.hover),l.addEventListener(h,()=>(function({element:e,userElement:t}){const{shadowRoot:a}=e,o=e.dataset,i=null===a||void 0===a?void 0:a.querySelector(r.overlay),s=null===i||void 0===i?void 0:i.dataset;s&&(o.confirm="Delete user",s.confirm=o.confirm,e.deleteUserElement=t)})({element:e,userElement:l})))}const{VamtigerBrowserMethod:E}=self,{pause:N,intersectionObserver:S}=E;function M({element:t}){var a,o,i,s,d;return e(this,void 0,void 0,function*(){const{params:e,user:n,shadowRoot:l,footerObserver:u,requestUrls:c}=t,m=t.dataset,{getUsersUrl:g="",getUsersNextPageUrl:v="",getAllUsers:f,handleUserTimeout:y}=e,p=null===l||void 0===l?void 0:l.querySelector(r.footer),b=n.size?v:g;let h,k;if(!c.has(b)){c.add(b);try{h=b&&(yield fetch(b).then(e=>e.json())),k=(null===(o=null===(a=null===h||void 0===h?void 0:h.data)||void 0===a?void 0:a.users)||void 0===o?void 0:o.data)||[],e.getUsersNextPageUrl=(null===(s=null===(i=null===h||void 0===h?void 0:h.data)||void 0===i?void 0:i.users)||void 0===s?void 0:s.next_page_url)||"";for(const e of k)yield x({element:t,user:e});let r=Number((null===(d=null===p||void 0===p?void 0:p.dataset)||void 0===d?void 0:d.visible)||0);(f||r)&&(yield M({element:t})),!b&&p&&(null===u||void 0===u||u.disconnect(),null===S||void 0===S||S.unobserve(p))}catch(e){m.getUsersError=""}}})}function j({element:t}){return e(this,void 0,void 0,function*(){const{params:a}=t,{addNewUserUrl:i}=a,s=t.querySelector(r.addNewUserForm),d=s&&new FormData(s),n={method:o.POST,body:d};let l;if(i)try{"successful"===(l=yield fetch(i,n).then(e=>e.json())).result?(yield function({element:t,userId:r}){return e(this,void 0,void 0,function*(){const{params:e}=t,{getUserUrl:a}=e,o=a&&`${a}/${r}`;let i;if(o)try{"successful"===(i=yield fetch(o).then(e=>e.json())).result&&(k({element:t}),yield x({element:t,user:i.data.user}))}catch(e){console.error("Error getting user"),console.error(e)}})}({element:t,userId:l.data.user}),null===s||void 0===s||s.reset()):function({element:e,response:t}){const a=e.querySelector(r.addNewUserForm),o=a&&new Set(Array.from(a.querySelectorAll(r.addNewUserFormInputError))||[]);let i,s,d,n,l,u,c;if(a)for(const e in t.data)i=`input[name="${e.split(".").pop()||""}"]`,s=`${i} ~ ${r.addNewUserFormError}`,d=t.data[e][0].errorDescription||t.data[e][0].error||"",n=a.querySelector(i),u=(null===a||void 0===a?void 0:a.querySelector(s))||null,l=null===n||void 0===n?void 0:n.dataset,c=null===u||void 0===u?void 0:u.dataset,l&&c&&(l.error="",c.error=c.defaultErrorMessage||d,n&&(null===o||void 0===o||o.delete(n)));o&&Array.from(o).forEach(e=>delete e.dataset.error)}({element:t,response:l})}catch(e){console.error("Error Adding New User"),console.error(e)}})}const{VamtigerBrowserMethod:q}=self,{loadScript:O,intersectionObserver:L}=q,z="vamtiger-user-registry";d&&Promise.all([...[{name:"font-awesome",href:"https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"}],{name:z,css:d}].map(O)).catch(console.error);const{VamtigerBrowserMethod:A}=self,{defineCustomElement:P}=A;P({name:z,constructor:class extends HTMLElement{constructor(){super(),this.user=new Map,this.requestUrls=new Set;const e=this.attachShadow(g),t=m({selector:r.style}),a=m({selector:r.shadowUi}),o=[t,a],i=this.dataset,s=null===a||void 0===a?void 0:a.dataset,{getUsersUrl:d="",getUserUrl:n="",deleteUserUrl:l="",handleUserTimeout:u=0,addNewUserUrl:c=""}=i;this.params={layoutMarkers:i.hasOwnProperty("layoutMarkers"),testMode:i.hasOwnProperty("testMode"),addNewUserUrl:c,getUsersUrl:d,getUserUrl:n,deleteUserUrl:l,handleUserTimeout:Number(u),getAllUsers:i.hasOwnProperty("getAllUsers")||!L},this.params.layoutMarkers&&s&&(s.layoutMarkers=""),this.params.testMode&&s&&(s.testMode=""),o.forEach(t=>t&&e.appendChild(t))}static get observedAttributes(){return v}connectedCallback(){return e(this,void 0,void 0,function*(){const t=this,{shadowRoot:i,params:s}=t,{testMode:d,layoutMarkers:n}=s,l=null===i||void 0===i?void 0:i.querySelector(r.shadowUi),u=null===i||void 0===i?void 0:i.querySelector(r.layoutMarkersToggle),c=!t.querySelector(r.addNewUserButton)&&m({selector:r.addNewUserButton}),g=m({selector:r.confirmDeleteDialog}),v=m({selector:r.confirmAddNewUserDialog}),f=null===g||void 0===g?void 0:g.querySelector(r.confirmButtonOkay),p=null===v||void 0===v?void 0:v.querySelector(r.confirmButtonOkay),w=[c,g,v],U=[null===g||void 0===g?void 0:g.querySelector(r.cancelDialog),null===v||void 0===v?void 0:v.querySelector(r.cancelDialog)],E=null===i||void 0===i?void 0:i.querySelector(r.footer),N=this.dataset;w.forEach(e=>e&&t.appendChild(e)),U.forEach(e=>e&&e.addEventListener(h,()=>k({element:t}))),c&&c.addEventListener(h,()=>(function({element:e}){const{shadowRoot:t}=e,a=e.dataset,o=null===t||void 0===t?void 0:t.querySelector(r.overlay),i=null===o||void 0===o?void 0:o.dataset;i&&(a.confirm="Add new user",i.confirm=a.confirm)})({element:t})),f&&f.addEventListener(h,()=>(function({element:t}){var r;return e(this,void 0,void 0,function*(){const{params:e,deleteUserElement:a}=t,{deleteUserUrl:i}=e,s=a&&t.user.get(a),d=(null===s||void 0===s?void 0:s.id)&&`${i}/${s.id}`,n={method:o.DELETE};let l;if(d)try{"successful"===(l=yield fetch(d,n).then(e=>e.json())).result&&a&&(t.deleteUserElement=void 0,t.user.delete(a),null===(r=a.parentElement)||void 0===r||r.removeChild(a),k({element:t}))}catch(e){console.error("Delete Usesr error"),console.error(e)}})})({element:t})),p&&p.addEventListener(h,()=>j({element:t})),E&&L?(this.footerObserver=new MutationObserver((a,o)=>(function({element:t,mutationLisit:a,observer:o}){var i;return e(this,void 0,void 0,function*(){const{shadowRoot:e,params:a}=t,{getUsersNextPageUrl:o}=a,s=null===e||void 0===e?void 0:e.querySelector(r.footer),d=Number((null===(i=null===s||void 0===s?void 0:s.dataset)||void 0===i?void 0:i.visible)||0);o&&d&&(yield M({element:t}))})})({element:t,mutationLisit:a,observer:o})),this.footerObserver.observe(E,b),L.observe(E)):N.getAllUsers="",(d||n)&&(null===u||void 0===u||u.addEventListener(h,()=>{l&&(l.dataset.layoutMarkers="",u.dataset.hasOwnProperty("active")?(delete u.dataset.active,delete t.dataset.layoutMarkers,null===l||void 0===l||delete l.dataset.layoutMarkers):(u.dataset.active="",t.dataset.layoutMarkers=""))})),yield M({element:t}),N.connected="",t.addEventListener(a.addUser,e=>(function({element:e,event:t}){const{detail:r}=t,a=null===r||void 0===r?void 0:r.user;a&&x({element:e,user:a})})({element:t,event:e})),t.dispatchEvent(y["vamtiger-user-registry-connected"])})}attributeChangedCallback(e,t,r){}}})}();
//# sourceMappingURL=vamtiger-user-registry.js.map
