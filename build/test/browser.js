var index=function(e,t,a,r){"use strict";function i(e,t,a,r){return new(a||(a=Promise))(function(i,o){function n(e){try{s(r.next(e))}catch(e){o(e)}}function d(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new a(function(t){t(e.value)}).then(n,d)}s((r=r.apply(e,t)).next())})}const{VamtigerBrowserMethod:o}=window,{loadScript:n}=o;var d,s,l,m,c;!function(e){e.nothing=""}(d||(d={})),function(e){e.shadowUi="[data-vamtiger-user-listing]",e.style="style",e.user="[data-user]",e.footer="[data-footer]",e.overlay="[data-overlay]",e.confirmDialog="[data-confirm-dialog]",e.confirmDeleteDialog="[data-confirm-delete-user]",e.confirmAddNewUserDialog="[data-confirm-add-new-user]",e.cancelDialog="[data-confirm-button-cancel]",e.confirmButtonOkay="[data-confirm-button-ok]",e.addNewUserButton="[data-action-add-user]",e.addNewUserForm="[data-add-new-user-form]",e.addNewUserFormError="[data-error]",e.addNewUserFormInputError="input[data-error]",e.layoutMarkersToggle="[data-layout-markers-toggle]"}(s||(s={})),function(e){e.connected="vamtiger-user-registry-connected",e.addUser="vamtiger-user-registry-add-user",e.userAdded="vamtiger-user-registry-user-added"}(l||(l={})),function(e){e.DELETE="DELETE",e.GET="GET",e.POST="POST",e.PUT="PUT"}(m||(m={})),function(e){e.headerImage="header-image",e.headerCapation="header-caption",e.action="action",e.user="user",e.overlay="overlay",e.footer="footer"}(c||(c={}));var u='vamtiger-user-registry button,vamtiger-user-registry fieldset,vamtiger-user-registry form,vamtiger-user-registry input,vamtiger-user-registry label{margin:nonne;padding:none;border:none;outline:none;-webkit-appearance:none}vamtiger-user-registry button{cursor:pointer}@-webkit-keyframes a{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:visible}}@keyframes a{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:visible}}@-webkit-keyframes b{0%{top:2em;opacity:0}to{top:0;opacity:1}}@keyframes b{0%{top:2em;opacity:0}to{top:0;opacity:1}}vamtiger-user-registry [data-button],vamtiger-user-registry form input,vamtiger-user-registry form label{cursor:pointer}vamtiger-user-registry [data-display-grid]{display:grid}vamtiger-user-registry [data-position-relative]{position:relative}vamtiger-user-registry [slot=user]{position:relative;overflow:hidden}vamtiger-user-registry [slot=user] *{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}vamtiger-user-registry [slot=user]:nth-child(odd){background-color:#d3d3d3}vamtiger-user-registry [slot=user]:nth-child(2n),vamtiger-user-registry [slot=user] [data-delete]{background-color:#fff}vamtiger-user-registry [slot=user] [data-delete]{display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;height:100%;width:2em;top:0;right:-2em;-webkit-transition:right 235ms;transition:right 235ms;color:red;font-size:1.5em;pointer-events:none}vamtiger-user-registry [slot=user][data-hover] [data-delete]{right:0}vamtiger-user-registry [slot=overlay]{visibility:hidden;position:relative;grid-row:1;grid-column:1}vamtiger-user-registry [slot=overlay] [data-confirm-header]{font-size:1.5em}vamtiger-user-registry [slot=overlay] [data-confirm-body]{font-size:1.1em;margin-bottom:1em}vamtiger-user-registry [slot=overlay] [data-header-underline]{height:1px;background-color:#d3d3d3}vamtiger-user-registry [slot=overlay] [data-confirm-footer]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}vamtiger-user-registry [slot=overlay] [data-confirm-footer] [data-confirm-button]{display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:8em;height:3.4em}vamtiger-user-registry [slot=overlay] [data-confirm-footer] [data-confirm-button][data-confirm-button-ok]{color:#fff;background-color:#000}vamtiger-user-registry [slot=overlay] [data-confirm-footer] [data-confirm-button][data-confirm-button-cancel]{color:gray;background-color:#fff}vamtiger-user-registry [slot=overlay] [data-confirm-footer] [data-confirm-button]:hover{-webkit-filter:inver(1);filter:inver(1)}vamtiger-user-registry [slot=overlay] [data-confirm-footer] [data-confirm-button]:nth-child(n+2){margin-right:1em}vamtiger-user-registry input{border:1px solid #000}vamtiger-user-registry [data-confirm-body] [data-confirm-input-form]{grid-row-gap:1em}vamtiger-user-registry [data-confirm-body] [data-confirm-input-form] [form-group]{display:grid;grid-row-gap:.5em;position:relative;grid-auto-rows:minmax(1.2em,auto)}vamtiger-user-registry [data-confirm-body] [data-confirm-input-form] [form-group] input{padding:.4em;font-size:1em}vamtiger-user-registry [data-confirm-body] [data-confirm-input-form] [form-group] input[data-error]~[data-error]:after{display:inline-block;content:attr(data-error);font-size:.8em;color:red}vamtiger-user-registry[data-connected]{-webkit-animation:a 387ms linear forwards;animation:a 387ms linear forwards}vamtiger-user-registry[data-confirm] [slot=overlay]{-webkit-animation:b 135ms;animation:b 135ms}vamtiger-user-registry[data-confirm="Add new user"] [data-confirm-add-new-user],vamtiger-user-registry[data-confirm="Delete user"] [data-confirm-delete-user]{visibility:visible}vamtiger-user-registry[data-test-mode] [data-confirm-button-ok]{visibility:none;cursor:not-allowed}\n/* layout markers*/vamtiger-user-registry[data-layout-markers] [slot=overlay]>:nth-child(odd){background-color:#b0c4de}vamtiger-user-registry[data-layout-markers] [slot=overlay]>:nth-child(2n){background-color:#d3d3d3}vamtiger-user-registry[data-layout-markers] [slot=overlay] [data-add-new-user-form]>:nth-of-type(odd){background-color:#ffb6c1}vamtiger-user-registry[data-layout-markers] [slot=overlay] [data-add-new-user-form]>:nth-of-type(odd)>:nth-of-type(odd){background-color:#90ee90}vamtiger-user-registry[data-layout-markers] [slot=overlay] [data-add-new-user-form]>:nth-of-type(2n){background-color:#008b8b}vamtiger-user-registry[data-layout-markers] [slot=overlay] [data-add-new-user-form]>:nth-of-type(2n)>:nth-of-type(odd){background-color:#d3d3d3}\n/*# sourceMappingURL=document-index.ts.map */',g='<div slot="overlay" data-confirm-dialog data-confirm-add-new-user> <div data-confirm-header> Add new user </div> <div data-header-underline></div> <div data-confirm-body data-display-grid> <form data-add-new-user-form data-confirm-input-form data-display-grid> <div form-group> <label for="addNewUserNameInput"> Name </label> <input id="addNewUserNameInput" name="name"> <span data-error></span> </div> <div form-group> <label for="addNewUserSurnameInput"> Surname </label> <input id="addNewUserSurnameInput" name="surname"> <span data-error></span> </div> <div form-group> <label for="addNewUserEmailInput"> Email </label> <input type="email" id="addNewUserEmailInput" name="email"> <span data-error></span> </div> <div form-group> <label for="addNewUserPositionInput"> Position </label> <input id="addNewUserPositionInput" name="position"> <span data-error data-default-error-message="Please enter your current position"></span> </div> </form> </div> <div data-confirm-footer> <button data-confirm-button data-confirm-button-ok> <span>Confirm</span> </button> <button data-confirm-button data-confirm-button-cancel> <span>Cancel</span> </button> </div> </div> <div slot="overlay" data-confirm-dialog data-confirm-delete-user> <div data-confirm-header> Confirm delete </div> <div data-header-underline></div> <div data-confirm-body> <span> Please confirm that you would like to delete this user. </span> </div> <div data-confirm-footer> <button data-confirm-button data-confirm-button-ok> <span>Confirm</span> </button> <button data-confirm-button data-confirm-button-cancel> <span>Cancel</span> </button> </div> </div> <button slot="action" data-action-add-user>Add new user</button> <div data-user data-button></div> <div data-vamtiger-user-listing> <div data-test-mode> <span data-title> test mode </span> <div data-separator></div> <div data-layout-markers-controls> <span data-label> layout markers </span> <div data-layout-markers-toggle></div> </div> </div> <div data-header> <div data-header-overlay></div> <figure data-header-image> <slot name="header-image"></slot> </figure> <div data-header-caption> <slot name="header-caption"></slot> </div> </div> <div data-body> <div data-left-side-bar></div> <div data-user-listing> <div data-action> <slot name="action"></slot> </div> <div data-users> <slot name="user"></slot> </div> </div> <div data-right-side-bar></div> </div> <div data-footer> <a data-backend>Laravel</a> <span data-separator></span> <a data-frontend>Web Components</a> </div> <div data-overlay> <slot name="overlay"></slot> </div> </div>';const{nothing:v}=d,f=document.createElement("template"),p=['<style>@-webkit-keyframes a{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:visible}}@keyframes a{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:visible}}:host{display:inline-block;position:relative;-ms-touch-action:manipulation;touch-action:manipulation;opacity:0}:host a,:host button,:host figure,:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{margin:0;padding:0;border:none;outline:none;-webkit-appearance:none;text-decoration:none}:host [data-vamtiger-user-listing]{height:100%;position:relative;display:grid;grid-template-rows:300px 3fr 50px}:host [data-vamtiger-user-listing] [data-test-mode]{position:fixed;top:0;left:0;z-index:4;display:grid;grid-gap:.5em;padding:1em;font-size:1em;text-transform:uppercase;background-color:#fff;visibility:hidden}:host [data-vamtiger-user-listing] [data-test-mode] [data-separator]{height:1px;background-color:#d3d3d3}:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls]{display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;grid-gap:1em}:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls] [data-layout-markers-toggle]{height:1em;display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;position:relative}:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls] [data-layout-markers-toggle]:after,:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls] [data-layout-markers-toggle]:before{display:inline-block;content:"";height:100%;grid-column:1;grid-row:1}:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls] [data-layout-markers-toggle]:before{background-color:#ffa07a;-webkit-transition:background-color 75ms;transition:background-color 75ms;width:2.5em;border-radius:1em}:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls] [data-layout-markers-toggle]:after{background-color:#d3d3d3;width:1em;border-radius:100%;border:1px solid #a9a9a9;-webkit-transform:scale(1.4);transform:scale(1.4);-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;left:0;-webkit-transition:left 75ms;transition:left 75ms}:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls] [data-layout-markers-toggle][data-active]:before{background-color:#87cefa}:host [data-vamtiger-user-listing] [data-test-mode] [data-layout-markers-controls] [data-layout-markers-toggle][data-active]:after{left:25px}:host [data-vamtiger-user-listing] [data-header]{display:grid;grid-template-rows:1fr;position:relative}:host [data-vamtiger-user-listing] [data-header]>*{grid-column:1;grid-row:1;width:100%;max-height:100%}:host [data-vamtiger-user-listing] [data-header] [data-header-overlay]{background-color:rgba(0,0,0,.3);z-index:2}:host [data-vamtiger-user-listing] [data-header] [data-header-image]{z-index:1;-o-object-fit:cover;object-fit:cover;position:relative}:host [data-vamtiger-user-listing] [data-header] [data-header-caption]{display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:3;color:#fff;font-size:2em}:host [data-vamtiger-user-listing] [data-body]{display:grid;grid-template-columns:1fr 3fr 1fr}:host [data-vamtiger-user-listing] [data-body] [data-user-listing]{display:grid;grid-template-rows:50px auto;grid-gap:1em;position:relative}:host [data-vamtiger-user-listing] [data-body] [data-user-listing] [data-action]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;position:-webkit-sticky;position:sticky;top:0;z-index:2;background-color:#fff}:host [data-vamtiger-user-listing] [data-body] [data-user-listing] [data-users]{display:grid;grid-auto-rows:3em;z-index:1}:host [data-vamtiger-user-listing] [data-overlay]{overflow:auto;position:fixed;height:100vh;width:100vw;display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:3;background:radial-gradient(rgba(0,0,0,.6),#000)}:host [data-vamtiger-user-listing] [data-overlay],:host [data-vamtiger-user-listing] [data-overlay] [data-confirm-delete-user]{visibility:hidden}:host [data-vamtiger-user-listing] [data-overlay][data-confirm]{-webkit-animation:a 135ms linear forwards;animation:a 135ms linear forwards}:host [data-vamtiger-user-listing] [data-footer]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#000;color:#fff;font-weight:1em}:host [data-vamtiger-user-listing] [data-footer] a{color:#fff;cursor:pointer}:host [data-vamtiger-user-listing] [data-footer] [data-separator]{margin:0 .5em;height:50%;width:1px;background-color:#fff}::slotted([slot=action]),[data-action] button{width:8em;display:grid;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;color:#fff;background-color:#000}::slotted([slot=footer]),::slotted([slot=header-image]){width:100%;max-height:100%;position:relative}::slotted([slot=user]){display:grid;grid-template-columns:repeat(2,1fr) minmax(auto,4fr);-webkit-box-align:center;-ms-flex-align:center;align-items:center;grid-gap:1em;padding-left:1em}::slotted([slot=overlay]){display:grid;grid-row-gap:1em;padding:2em;background-color:#fff}\n\n/* Layout markers */:host [data-vamtiger-user-listing][data-test-mode] [data-test-mode]{visibility:visible}:host [data-vamtiger-user-listing][data-layout-markers]{background-color:#a9a9a9}:host [data-vamtiger-user-listing][data-layout-markers] [data-test-mode]~:nth-child(odd){background-color:#add8e6}:host [data-vamtiger-user-listing][data-layout-markers] [data-body]>:nth-child(odd){background-color:#ffb6c1}:host [data-vamtiger-user-listing][data-layout-markers] [data-user-listing]>:nth-child(odd){background-color:#90ee90}:host [data-vamtiger-user-listing][data-layout-markers] [data-user-listing]>:nth-child(2n){background-color:#fafad2}:host [data-vamtiger-user-listing][data-layout-markers] [data-action]{background-color:#add8e6}\n/*# sourceMappingURL=index.ts.map */</style>',g].join(v);f.innerHTML=p;var b=e=>{const{selector:t,attributes:a={},properties:r={}}=e,i=Object.keys(a),o=f.content.querySelector(t),n=o&&o.cloneNode(!0);return n&&(Object.assign(n,r),i.forEach(e=>a[e]&&n.setAttribute(e,a[e]||""))),n};const y={bubbles:!0},h=(new CustomEvent(l.connected,Object.assign({},y)),1),k=document.ontouchstart?"touchstart":"click";const{requestIdleCallback:w}=self;function x({element:e,user:t}){const{name:a,surname:r,email:i}=t,o=!Array.from(e.user.values()).some(({id:e})=>e===t.id)&&[`<span data-name>${a}</span>`,`<span data-surname>${r}</span>`,`<span data-email>${i}</span>`,'<span data-delete class="fa fa-trash" aria-hidden="true"></delete>'].join(""),n=o&&b({selector:s.user,properties:{innerHTML:o},attributes:{slot:c.user}});n&&(e.user.set(n,t),e.appendChild(n),e.dispatchEvent(new CustomEvent(l.userAdded,Object.assign(Object.assign({},y),{detail:{user:t}}))),n.addEventListener("mouseenter",()=>n.dataset.hover=""),n.addEventListener("mouseleave",()=>delete n.dataset.hover),n.addEventListener(k,()=>(function({element:e,userElement:t}){const{shadowRoot:a}=e,r=e.dataset,i=null===a||void 0===a?void 0:a.querySelector(s.overlay),o=null===i||void 0===i?void 0:i.dataset;o&&(r.confirm="Delete user",o.confirm=r.confirm,e.deleteUserElement=t)})({element:e,userElement:n})))}const{VamtigerBrowserMethod:E}=self,{loadScript:j,intersectionObserver:U}=E,N="vamtiger-user-registry";u&&Promise.all([...[{name:"font-awesome",href:"https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"}],{name:N,css:u}].map(j)).catch(console.error);function C(){return document.body.querySelector(N)}function z(){const e=C();e&&Array.from(e.querySelectorAll(s.user)).forEach(t=>{e.removeChild(t),e.user.delete(t)})}return r.setup("bdd"),(()=>describe("vamtiger-user-registry",function(){before(function(){return i(this,void 0,void 0,function*(){yield n({src:"vamtiger-user-registry.js"})})}),it("load script",function(){return i(this,void 0,void 0,function*(){const e=document.head.querySelector('[src="vamtiger-user-registry.js"]');t.expect(e instanceof HTMLScriptElement).to.be.true})})}))(),(()=>describe("named slots",function(){let e;before(function(){return new Promise(t=>{(e=document.createElement(N)).addEventListener(l.connected,t),document.body.appendChild(e)})}),after(function(){var t;null===(t=null===e||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(e)}),it(c.headerImage,function(){var a;return i(this,void 0,void 0,function*(){const r=`slot[name="${c.headerImage}"]`;t.expect(null===(a=null===e||void 0===e?void 0:e.shadowRoot)||void 0===a?void 0:a.querySelector(r)).to.be.ok})}),it(c.headerCapation,function(){var a;return i(this,void 0,void 0,function*(){const r=`slot[name="${c.headerCapation}"]`;t.expect(null===(a=null===e||void 0===e?void 0:e.shadowRoot)||void 0===a?void 0:a.querySelector(r)).to.be.ok})}),it(c.action,function(){var a;return i(this,void 0,void 0,function*(){const r=`slot[name="${c.action}"]`;t.expect(null===(a=null===e||void 0===e?void 0:e.shadowRoot)||void 0===a?void 0:a.querySelector(r)).to.be.ok})}),it(c.user,function(){var a;return i(this,void 0,void 0,function*(){const r=`slot[name="${c.user}"]`;t.expect(null===(a=null===e||void 0===e?void 0:e.shadowRoot)||void 0===a?void 0:a.querySelector(r)).to.be.ok})})}))(),(()=>describe("dispatch custom events",function(){const e=document.body.querySelector(N),r={id:0,name:a.name.firstName(),surname:a.name.lastName(),email:a.internet.email(),position:a.name.jobTitle()};after(z),describe(`${l.connected}`,function(){it("element added to DOM ",function(){return i(this,void 0,void 0,function*(){return new Promise((e,a)=>{const r=document.createElement(N);r.addEventListener(l.connected,()=>{var a;t.expect(r.parentElement).to.equal(document.body),null===(a=r.parentElement)||void 0===a||a.removeChild(r),e()}),document.body.appendChild(r)})})})}),describe(`${l.userAdded}`,function(){it.skip("user element added to DOM ",function(){return new Promise(a=>{null===e||void 0===e||e.addEventListener(l.userAdded,({detail:e})=>{t.expect(null===e||void 0===e?void 0:e.user).to.eq(r),a()}),null===e||void 0===e||e.dispatchEvent(new CustomEvent(l.addUser,{detail:{user:r}}))})})})}))(),(()=>describe("Test Mode",function(){const e=C();it("Fake Data: 100 records",function(){return i(this,void 0,void 0,function*(){const t=new Array(100).fill(void 0).map((e,t)=>({id:t,name:a.name.firstName(),surname:a.name.lastName(),email:a.internet.email(),position:a.name.jobTitle()}));var r;e&&t.map(t=>(r={element:e,user:t},void(w?x(r):setTimeout(()=>x(r),h))))})})}))(),r.run(),e.getElement=C,e.removeUsers=z,e}({},chai,faker,mocha);
//# sourceMappingURL=browser.js.map
